Index: app/src/main/java/com/example/json/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.json;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Color;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    String City = \"London\";\r\n    //Your Key\r\n    String Key = \"2a20d2a71c5a0737f88861d43949d630\";\r\n\r\n    String url1 = \"https://samples.openweathermap.org/data/2.5/weather?q=London&appid=439d4b804bc8187953eb36d2a8c26a02\";\r\n\r\n\r\n\r\n    TextView txtCity,txtTime,txtValue,txtValueFeelLike,txtValueHumidity,txtValueVision;\r\n\r\n    String nameIcon = \"10d\";\r\n\r\n    EditText editText;\r\n\r\n    Button btnLoading;\r\n\r\n    ImageView imgIcon;\r\n\r\n    RelativeLayout relativeLayoutMain;\r\n    RelativeLayout relativeLayout;\r\n\r\n    public class DownloadImage extends AsyncTask<String, Void, Bitmap> {\r\n\r\n        @Override\r\n        protected Bitmap doInBackground(String... strings) {\r\n            Bitmap bitmap = null;\r\n\r\n            URL url;\r\n\r\n            HttpURLConnection httpURLConnection;\r\n\r\n            InputStream inputStream;\r\n\r\n            try {\r\n                Log.i(\"LINK\",strings[0]);\r\n                url = new URL(strings[0]);\r\n\r\n                httpURLConnection = (HttpURLConnection) url.openConnection();\r\n\r\n                inputStream = httpURLConnection.getInputStream();\r\n\r\n                bitmap = BitmapFactory.decodeStream(inputStream);\r\n\r\n\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return bitmap;\r\n        }\r\n    }\r\n\r\n    public class DownloadTask extends AsyncTask<String, Void , String> {\r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n\r\n            String result = \"\";\r\n\r\n            URL url;\r\n\r\n            HttpURLConnection httpURLConnection;\r\n\r\n            InputStream inputStream;\r\n\r\n            InputStreamReader inputStreamReader;\r\n\r\n            try {\r\n\r\n                url = new URL(strings[0]);\r\n\r\n                httpURLConnection = (HttpURLConnection) url.openConnection();\r\n\r\n                inputStream = httpURLConnection.getInputStream();\r\n\r\n                inputStreamReader = new InputStreamReader(inputStream);\r\n\r\n                int data = inputStreamReader.read();\r\n\r\n                while(data != -1) {\r\n\r\n                    result += (char) data;\r\n\r\n                    data = inputStreamReader.read();\r\n\r\n                }\r\n\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\n    public void loading(View view) {\r\n\r\n        editText.setVisibility(View.INVISIBLE);\r\n        btnLoading.setVisibility(View.INVISIBLE);\r\n        relativeLayout.setVisibility(View.VISIBLE);\r\n        relativeLayoutMain.setBackgroundColor(Color.parseColor(\"#E6E6E6\"));\r\n\r\n        City = editText.getText().toString();\r\n\r\n        String url = \"https://api.openweathermap.org/data/2.5/weather?q=\" + City +\"&units=metric&appid=\" + Key;\r\n\r\n        DownloadTask downloadTask = new DownloadTask();\r\n\r\n        try {\r\n\r\n            String result = \"abc\";\r\n\r\n            result = downloadTask.execute(url).get();\r\n\r\n            Log.i(\"Result:\",result);\r\n\r\n            JSONObject jsonObject = new JSONObject(result);\r\n\r\n            JSONObject main = jsonObject.getJSONObject(\"main\");\r\n\r\n            String temp = main.getString(\"temp\");\r\n\r\n            String humidity = main.getString(\"humidity\");\r\n\r\n            String feel_like = main.getString(\"feels_like\");\r\n\r\n            String visibility = jsonObject.getString(\"visibility\");\r\n\r\n            nameIcon = jsonObject.getJSONArray(\"weather\").getJSONObject(0).getString(\"icon\");\r\n\r\n            Log.i(\"Name Icon\",nameIcon);\r\n\r\n            Long time = jsonObject.getLong(\"dt\");\r\n\r\n            String sTime = new SimpleDateFormat(\"dd-M-yyyy hh:mm:ss\", Locale.ENGLISH)\r\n                    .format(new Date(time * 1000));\r\n\r\n            txtCity.setText(City);\r\n\r\n            txtValue.setText(temp + \"Â°\");\r\n\r\n            txtValueVision.setText(visibility);\r\n\r\n            txtValueHumidity.setText(humidity);\r\n\r\n            txtValueFeelLike.setText(feel_like);\r\n\r\n            DownloadImage downloadImage = new DownloadImage();\r\n\r\n            String urlIcon = \" https://openweathermap.org/img/wn/\"+ nameIcon +\"@2x.png\";\r\n\r\n            Bitmap bitmap = downloadImage.execute(urlIcon).get();\r\n\r\n            imgIcon.setImageBitmap(bitmap);\r\n\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        editText = findViewById(R.id.edt_input);\r\n\r\n        txtCity = findViewById(R.id.txtCity);\r\n\r\n        txtTime = findViewById(R.id.txtTime);\r\n\r\n        txtValue = findViewById(R.id.txtValue);\r\n\r\n        txtValueFeelLike = findViewById(R.id.txtTitleFeelLike);\r\n\r\n        txtValueHumidity = findViewById(R.id.txtValueHumidity);\r\n\r\n        txtValueVision = findViewById(R.id.txtValueVision);\r\n\r\n        imgIcon = findViewById(R.id.imgIcon);\r\n\r\n        btnLoading = findViewById(R.id.btnLoading);\r\n\r\n        relativeLayout = findViewById(R.id.rlWeather);\r\n\r\n        relativeLayoutMain = findViewById(R.id.rlMain_Ac);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/json/MainActivity.java b/app/src/main/java/com/example/json/MainActivity.java
--- a/app/src/main/java/com/example/json/MainActivity.java	(revision 84a315c494815e48c78a39424be789bfed9b4eea)
+++ b/app/src/main/java/com/example/json/MainActivity.java	(date 1639052913909)
@@ -133,8 +133,8 @@
 
     public void loading(View view) {
 
-        editText.setVisibility(View.INVISIBLE);
-        btnLoading.setVisibility(View.INVISIBLE);
+        editText.setVisibility(View.VISIBLE);
+        btnLoading.setVisibility(View.VISIBLE);
         relativeLayout.setVisibility(View.VISIBLE);
         relativeLayoutMain.setBackgroundColor(Color.parseColor("#E6E6E6"));
 
